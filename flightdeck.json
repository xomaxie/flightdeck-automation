{
  "id": "flightdeck-automation",
  "name": "FlightDeck Automation",
  "version": "0.2.0",
  "type": "both",
  "entrypoint": "services/automation/src/index.ts",
  "configTemplate": "config/automation.jsonc",
  "ui": {
    "modals": [
      {
        "id": "overview",
        "title": "Automation Overview",
        "description": "Automation service for scheduled and webhook-driven tasks.",
        "blocks": [
          { "type": "heading", "text": "What it does" },
          { "type": "text", "text": "Runs OpenCode tasks on schedules or GitHub webhooks." },
          { "type": "divider" },
          {
            "type": "button",
            "label": "View Repo",
            "action": { "type": "open-url", "url": "https://github.com/xomaxie/flightdeck-automation" }
          }
        ]
      },
      {
        "id": "configure",
        "title": "Configure GitHub Trigger",
        "description": "Create a GitHub trigger and task for the automation server.",
        "blocks": [
          { "type": "heading", "text": "Repository" },
          { "type": "input", "id": "repo", "label": "Repo (owner/name)", "placeholder": "owner/repo", "required": true },
          { "type": "divider" },
          { "type": "heading", "text": "Trigger" },
          {
            "type": "select",
            "id": "event",
            "label": "Event",
            "required": true,
            "options": [
              { "id": "pull_request.opened", "label": "PR opened" },
              { "id": "pull_request.synchronize", "label": "PR updated" },
              { "id": "issue_comment.created", "label": "Issue/PR comment" }
            ]
          },
          { "type": "divider" },
          { "type": "heading", "text": "Task" },
          { "type": "input", "id": "taskId", "label": "Task ID", "placeholder": "automation-task", "value": "automation-task" },
          { "type": "textarea", "id": "prompt", "label": "Prompt", "placeholder": "Describe the task", "required": true },
          { "type": "divider" },
          { "type": "button", "label": "Save trigger", "action": { "type": "submit", "event": "automation.save" } }
        ]
      },
      {
        "id": "docs",
        "title": "Automation Docs",
        "description": "Quickstart and API reference.",
        "blocks": [
          { "type": "heading", "text": "Quickstart" },
          { "type": "text", "text": "cd services/automation; bun install; AUTOMATION_API_KEY=dev-key bun dev" },
          { "type": "divider" },
          {
            "type": "button",
            "label": "Read README",
            "action": { "type": "open-url", "url": "https://github.com/xomaxie/flightdeck-automation#readme" }
          }
        ]
      }
    ]
  }
}
